(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{6429:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscriptions",function(){return e(9256)}])},6932:function(n,r,e){"use strict";e.d(r,{Z:function(){return G}});var t=e(5893),i=e(181),o=e(3508),s=e(7922),a=e(8462),c=e(7212),d=e(8619),l=e(8885),x=e(9334),h=e(1664),u=e.n(h),j=e(7294);function p(n){var r=n.categoryText,e=n.categoryIcon,h=n.routeIcon,p=n.routeParams,Z=(0,j.useState)(!0),m=Z[0],v=Z[1];return(0,t.jsxs)(a.Z,{component:"nav",children:[(0,t.jsxs)(d.Z,{onClick:function(){v(!m)},children:[e&&(0,t.jsx)(l.Z,{children:e}),(0,t.jsx)(x.Z,{primary:r}),m?(0,t.jsx)(i.Z,{}):(0,t.jsx)(o.Z,{})]}),(0,t.jsx)(s.Z,{unmountOnExit:!0,in:m,timeout:"auto",children:(0,t.jsx)(a.Z,{color:"primary",children:p.map((function(n){return(0,t.jsx)(u(),{passHref:!0,href:n.path,children:(0,t.jsxs)(c.ZP,{button:!0,component:"a",children:[h&&(0,t.jsx)(l.Z,{children:h}),(0,t.jsx)(x.Z,{primary:n.displayName})]})},n.id)}))})})]})}var Z=e(535),m=e(155),v=e(5675),f=e.n(v);function g(){return(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Z,{color:"primary",style:{padding:"1rem"},children:(0,t.jsx)(u(),{href:"/",children:(0,t.jsx)("a",{children:(0,t.jsx)(f(),{loader:function(n){return"/".concat(n.src)},src:"kidsloop-default.svg",alt:"kidsloop logo",width:150,height:50})})})}),(0,t.jsx)(p,{categoryText:"Subscriptions",routeIcon:(0,t.jsx)(Z.Z,{}),routeParams:[{id:"subscriptions-root",path:"/subscriptions",displayName:"Root"},{id:"subscriptions-more",path:"/subscriptions/more",displayName:"More"}]})]})}var y=e(3540),b=e(5398),w=e(9661),k=e(7357),_=e(7720),S=e(3946),F=e(5294),P=e(8972),C=e(6893),N=e(5861);function E(){var n=[{name:"Profile",icon:(0,t.jsx)(b.Z,{})},{name:"Sign out",icon:(0,t.jsx)(y.Z,{})}],r=(0,j.useState)(null),e=r[0],i=r[1],o=function(){i(null)};return(0,t.jsxs)(k.Z,{sx:{flexGrow:0},children:[(0,t.jsx)(C.Z,{title:"Open User Menu",children:(0,t.jsx)(S.Z,{sx:{p:0},onClick:function(n){i(n.currentTarget)},children:(0,t.jsx)(w.Z,{alt:"Remy Sharp"})})}),(0,t.jsx)(F.Z,{keepMounted:!0,sx:{mt:5},id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(e),onClose:o,children:n.map((function(n,r){return(0,t.jsxs)("div",{children:[0!==r&&(0,t.jsx)(_.Z,{}),(0,t.jsxs)(P.Z,{onClick:o,children:[(0,t.jsx)(l.Z,{children:n.icon},"".concat(n.name,"-icon")),(0,t.jsx)(N.Z,{textAlign:"center",children:n.name})]})]},n.name)}))})]})}var I=e(326),O=e(2293),T=e(4128),M=e(7036),z=e(8815),B=e(7533),R=e(9518),D=e(1796),H=e(1927),X=300,A=(0,R.Z)({palette:{mode:"dark",background:{paper:(0,D._j)(T.Z[900],.7)}}});function G(n){var r=n.children,e=(0,j.useState)(!1),i=e[0],o=e[1],s=function(){o(!i)},a=(0,t.jsx)(g,{});return(0,t.jsxs)(k.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,t.jsx)(z.ZP,{}),(0,t.jsx)(O.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(X,"px)")},ml:{sm:"".concat(X,"px")}},children:(0,t.jsxs)(m.Z,{sx:{justifyContent:{xs:"space-between",sm:"flex-end"},height:{xs:"".concat(64,"px")}},children:[(0,t.jsx)(S.Z,{color:"inherit","aria-label":"open drawer",edge:"start",sx:{mr:2,display:{sm:"none"}},onClick:s,children:(0,t.jsx)(I.Z,{})}),(0,t.jsx)(E,{})]})}),(0,t.jsx)(k.Z,{component:"nav",sx:{width:{sm:X},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:(0,t.jsxs)(H.Z,{theme:A,children:[(0,t.jsx)(B.ZP,{variant:"temporary",open:i,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:X}},onClose:s,children:a}),(0,t.jsx)(B.ZP,{open:!0,variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:X}},children:a})]})}),(0,t.jsx)(k.Z,{component:"main",sx:{display:"flex",overflow:"auto",height:"calc(100% - ".concat(64,"px)"),marginTop:{xs:"".concat(64,"px")},width:{sm:"calc(100% - ".concat(X,"px)")},backgroundColor:M.Z[300]},children:r})]})}},9256:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return C}});var t=e(5893),i=e(6886),o=e(6242),s=e(4267),a=e(5861),c=e(7294);function d(n){var r=n.children,e=n.title;return(0,t.jsx)(o.Z,{sx:{maxWidth:1024,margin:2},children:(0,t.jsxs)(s.Z,{children:[e&&(0,t.jsx)(a.Z,{gutterBottom:!0,variant:"h5",component:"div",children:e}),r]})})}var l=e(274),x=e(8979);function h(){var n=(0,l.useGetHealth)({}),r=n.data,e=n.isFetching,i=n.error;n.refetch;return(0,t.jsx)(d,{title:"Healthcheck",children:(0,t.jsxs)(t.Fragment,{children:[e&&!i&&(0,t.jsx)(x.Z,{animation:"wave"}),!e&&!i&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:["status: ",null===r||void 0===r?void 0:r.status]}),!e&&i&&(0,t.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}var u=e(7113);function j(){var n=(0,u.KX)({subscriptionId:"123"}),r=n.data,e=n.isFetching,i=n.error;n.refetch;return(0,t.jsx)(d,{title:"Subscription",children:(0,t.jsxs)(t.Fragment,{children:[e&&!i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{animation:"wave"}),(0,t.jsx)(x.Z,{animation:"wave"}),(0,t.jsx)(x.Z,{animation:"wave"}),(0,t.jsx)(x.Z,{animation:"wave"})]}),!e&&!i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"Account id:"})," ",null===r||void 0===r?void 0:r.account_id]}),(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"Created on:"})," ",null===r||void 0===r?void 0:r.created_on]}),(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"State:"})," ",null===r||void 0===r?void 0:r.state]}),(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"Subscription id:"})," ",null===r||void 0===r?void 0:r.subscription_id]})]}),!e&&i&&(0,t.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}function p(n){var r=n.id,e=(0,u.jP)({subscriptionId:"123",usageReportId:r}),i=e.data,o=e.isFetching,s=e.error;e.refetch;return(0,t.jsxs)(t.Fragment,{children:[o&&!s&&(0,t.jsx)(x.Z,{animation:"wave"}),!o&&!s&&(0,t.jsxs)(t.Fragment,{children:[(null===i||void 0===i?void 0:i.id)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"id:"})," ",i.id]}),(null===i||void 0===i?void 0:i.from)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"from:"})," ",i.from]}),(null===i||void 0===i?void 0:i.to)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"to:"})," ",i.to]}),(null===i||void 0===i?void 0:i.report_completed_at)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"completed at:"})," ",i.report_completed_at]}),(null===i||void 0===i?void 0:i.state)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"state:"})," ",i.state]}),(null===i||void 0===i?void 0:i.products)&&(0,t.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,t.jsx)("strong",{children:"products:"})," ",JSON.stringify(i.products,null,2)]})]}),!o&&s&&(0,t.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})}var Z=e(5503),m=e(813),v=e(7357),f=e(7922),g=e(3946),y=e(3252),b=e(3816);function w(n){var r=n.row,e=(0,c.useState)(!1),i=e[0],o=e[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(b.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,t.jsx)(y.Z,{children:(0,t.jsx)(g.Z,{"aria-label":"expand row",size:"small",onClick:function(){return o(!i)},children:i?(0,t.jsx)(m.Z,{}):(0,t.jsx)(Z.Z,{})})}),(0,t.jsx)(y.Z,{align:"left",children:r.id}),(0,t.jsx)(y.Z,{align:"left",children:r.from}),(0,t.jsx)(y.Z,{align:"left",children:r.to})]}),(0,t.jsx)(b.Z,{children:(0,t.jsx)(y.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,t.jsx)(f.Z,{unmountOnExit:!0,in:i,timeout:"auto",children:(0,t.jsx)(v.Z,{sx:{margin:1},children:i&&(0,t.jsx)(p,{id:r.id})})})})})]})}var k=e(7906),_=e(295),S=e(3184);function F(){var n,r=(0,u.vi)({subscriptionId:"123"}),e=r.data,i=r.isFetching,o=r.error,s=(r.refetch,(null===e||void 0===e||null===(n=e.reports)||void 0===n?void 0:n.length)?e.reports:[]);return(0,t.jsx)(d,{title:"Reports",children:(0,t.jsxs)(t.Fragment,{children:[i&&!o&&(0,t.jsx)(x.Z,{animation:"wave"}),!i&&!o&&(0,t.jsxs)(k.Z,{"aria-label":"collapsible table",children:[(0,t.jsx)(S.Z,{children:(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(y.Z,{}),(0,t.jsx)(y.Z,{children:"ID"}),(0,t.jsx)(y.Z,{align:"left",children:"From"}),(0,t.jsx)(y.Z,{align:"left",children:"To"}),(0,t.jsx)(y.Z,{})]})}),(0,t.jsx)(_.Z,{children:s.map((function(n){return(0,t.jsx)(w,{row:{id:n.id,from:n.from,to:n.to}},n.id)}))})]}),!i&&o&&(0,t.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}var P=e(6932);function C(){var n=[(0,t.jsx)(h,{},"health-card"),(0,t.jsx)(j,{},"subscription-card"),(0,t.jsx)(F,{},"usage-reports-card")];return(0,t.jsx)(i.ZP,{container:!0,direction:"column",flexWrap:"nowrap",children:n.map((function(n){return(0,t.jsx)(i.ZP,{item:!0,children:n},n.key)}))})}C.getLayout=function(n){return(0,t.jsx)(P.Z,{children:n})}}},function(n){n.O(0,[545,269,725,774,888,179],(function(){return r=6429,n(n.s=r);var r}));var r=n.O();_N_E=r}]);