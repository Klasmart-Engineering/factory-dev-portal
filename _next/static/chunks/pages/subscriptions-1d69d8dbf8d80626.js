(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{6429:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscriptions",function(){return r(9426)}])},6932:function(n,e,r){"use strict";r.d(e,{Z:function(){return A}});var i=r(5893),t=r(181),o=r(3508),s=r(7922),a=r(8462),c=r(7212),d=r(8619),l=r(8885),x=r(9334),h=r(1664),u=r.n(h),p=r(7294);function j(n){var e=n.categoryText,r=n.categoryIcon,h=n.routeIcon,j=n.routeParams,m=(0,p.useState)(!0),Z=m[0],v=m[1];return(0,i.jsxs)(a.Z,{component:"nav",children:[(0,i.jsxs)(d.Z,{onClick:function(){v(!Z)},children:[r&&(0,i.jsx)(l.Z,{children:r}),(0,i.jsx)(x.Z,{primary:e}),Z?(0,i.jsx)(t.Z,{}):(0,i.jsx)(o.Z,{})]}),(0,i.jsx)(s.Z,{unmountOnExit:!0,in:Z,timeout:"auto",children:(0,i.jsx)(a.Z,{color:"primary",children:j.map((function(n){return(0,i.jsx)(u(),{passHref:!0,href:n.path,children:(0,i.jsxs)(c.ZP,{button:!0,component:"a",children:[h&&(0,i.jsx)(l.Z,{children:h}),(0,i.jsx)(x.Z,{primary:n.displayName})]})},n.id)}))})})]})}var m=r(535),Z=r(155),v=r(5675),f=r.n(v);function g(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(Z.Z,{color:"primary",style:{padding:"1rem"},children:(0,i.jsx)(u(),{href:"/",children:(0,i.jsx)("a",{children:(0,i.jsx)(f(),{loader:function(n){return"/".concat(n.src)},src:"kidsloop-default.svg",alt:"kidsloop logo",width:150,height:50})})})}),(0,i.jsx)(j,{categoryText:"Subscriptions",routeIcon:(0,i.jsx)(m.Z,{}),routeParams:[{id:"subscriptions-root",path:"/subscriptions",displayName:"Root"},{id:"subscriptions-more",path:"/subscriptions/more",displayName:"More"}]})]})}var b=r(3540),y=r(5398),w=r(9661),k=r(7357),P=r(7720),_=r(3946),C=r(5294),S=r(8972),F=r(6893),N=r(5861);function E(){var n=[{name:"Profile",icon:(0,i.jsx)(y.Z,{})},{name:"Sign out",icon:(0,i.jsx)(b.Z,{})}],e=(0,p.useState)(null),r=e[0],t=e[1],o=function(){t(null)};return(0,i.jsxs)(k.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(F.Z,{title:"Open User Menu",children:(0,i.jsx)(_.Z,{sx:{p:0},onClick:function(n){t(n.currentTarget)},children:(0,i.jsx)(w.Z,{alt:"Remy Sharp"})})}),(0,i.jsx)(C.Z,{keepMounted:!0,sx:{mt:5},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:o,children:n.map((function(n,e){return(0,i.jsxs)("div",{children:[0!==e&&(0,i.jsx)(P.Z,{}),(0,i.jsxs)(S.Z,{onClick:o,children:[(0,i.jsx)(l.Z,{children:n.icon},"".concat(n.name,"-icon")),(0,i.jsx)(N.Z,{textAlign:"center",children:n.name})]})]},n.name)}))})]})}var I=r(326),M=r(2293),O=r(4128),T=r(7036),W=r(6720),H=r(7533),z=r(9518),R=r(1796),D=r(1927),G=300,X=(0,z.Z)({palette:{mode:"dark",background:{paper:(0,R._j)(O.Z[900],.7)}}});function A(n){var e=n.children,r=(0,p.useState)(!1),t=r[0],o=r[1],s=function(){o(!t)},a=(0,i.jsx)(g,{});return(0,i.jsxs)(k.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,i.jsx)(W.ZP,{}),(0,i.jsx)(M.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(G,"px)")},ml:{sm:"".concat(G,"px")}},children:(0,i.jsxs)(Z.Z,{sx:{justifyContent:{xs:"space-between",sm:"flex-end"}},children:[(0,i.jsx)(_.Z,{color:"inherit","aria-label":"open drawer",edge:"start",sx:{mr:2,display:{sm:"none"}},onClick:s,children:(0,i.jsx)(I.Z,{})}),(0,i.jsx)(E,{})]})}),(0,i.jsx)(k.Z,{component:"nav",sx:{width:{sm:G},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:(0,i.jsxs)(D.Z,{theme:X,children:[(0,i.jsx)(H.ZP,{variant:"temporary",open:t,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:G}},onClose:s,children:a}),(0,i.jsx)(H.ZP,{open:!0,variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:G}},children:a})]})}),(0,i.jsxs)(k.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(G,"px)")},backgroundColor:T.Z[300],height:"100%"},children:[(0,i.jsx)(Z.Z,{}),e]})]})}},9426:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return S}});var i=r(5893),t=r(6886),o=r(6242),s=r(4267),a=r(5861),c=r(7294);function d(n){var e=n.children,r=n.title;return(0,i.jsx)(o.Z,{sx:{maxWidth:1024},children:(0,i.jsxs)(s.Z,{children:[r&&(0,i.jsx)(a.Z,{gutterBottom:!0,variant:"h5",component:"div",children:r}),e]})})}var l=r(274),x=r(8979);function h(){var n=(0,l.useGetHealth)({}),e=n.data,r=n.isFetching,t=n.error;n.refetch;return(0,i.jsx)(d,{title:"Healthcheck",children:(0,i.jsxs)(i.Fragment,{children:[r&&!t&&(0,i.jsx)(x.Z,{animation:"wave"}),!r&&!t&&(0,i.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:["status: ",null===e||void 0===e?void 0:e.status]}),!r&&t&&(0,i.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}var u=r(7113);function p(){var n=(0,u.KX)({subscriptionId:"123"}),e=n.data,r=n.isFetching,t=n.error;n.refetch;return(0,i.jsx)(d,{title:"Subscription",children:(0,i.jsxs)(i.Fragment,{children:[r&&!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z,{animation:"wave"}),(0,i.jsx)(x.Z,{animation:"wave"}),(0,i.jsx)(x.Z,{animation:"wave"}),(0,i.jsx)(x.Z,{animation:"wave"})]}),!r&&!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,i.jsx)("strong",{children:"Account id:"})," ",null===e||void 0===e?void 0:e.account_id]}),(0,i.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,i.jsx)("strong",{children:"Created on:"})," ",null===e||void 0===e?void 0:e.created_on]}),(0,i.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,i.jsx)("strong",{children:"State:"})," ",null===e||void 0===e?void 0:e.state]}),(0,i.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:[(0,i.jsx)("strong",{children:"Subscription id:"})," ",null===e||void 0===e?void 0:e.subscription_id]})]}),!r&&t&&(0,i.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}var j=r(4128),m=r(7036),Z=r(5113),v=r(7906),f=r(295),g=r(3252),b=r(2882),y=r(3184),w=r(3677),k=r(3816),P=[{id:"id",label:"ID",minWidth:170},{id:"from",label:"From",minWidth:100},{id:"to",label:"To",minWidth:170,align:"right"}];function _(){var n=(0,u.vi)({subscriptionId:"123"}),e=n.data,r=n.isFetching,t=n.error,o=(n.refetch,(0,c.useState)(0)),s=o[0],l=o[1],h=(0,c.useState)(10),p=h[0],_=h[1];return(0,i.jsx)(d,{title:"Usage Reports",children:(0,i.jsxs)(i.Fragment,{children:[r&&!t&&(0,i.jsx)(x.Z,{animation:"wave"}),!r&&!t&&(0,i.jsxs)(Z.Z,{sx:{width:"100%"},children:[(0,i.jsx)(b.Z,{sx:{maxHeight:300},children:(0,i.jsxs)(v.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,i.jsx)(y.Z,{children:(0,i.jsx)(k.Z,{children:P.map((function(n){return(0,i.jsx)(g.Z,{align:n.align,style:{backgroundColor:j.Z[400],color:m.Z[50],minWidth:n.minWidth},children:n.label},n.id)}))})}),(0,i.jsx)(f.Z,{children:null===e||void 0===e?void 0:e.reports.slice(s*p,s*p+p).map((function(n,e){return(0,i.jsx)(k.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:P.map((function(e){var r=n[e.id];return(0,i.jsx)(g.Z,{align:e.align,children:e.format&&"number"===typeof r?e.format(r):r},e.id)}))},"".concat(n.id,"-").concat(e))}))})]})}),(0,i.jsx)(w.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:(null===e||void 0===e?void 0:e.reports)?e.reports.length:0,rowsPerPage:p,page:s,onPageChange:function(n,e){l(e)},onRowsPerPageChange:function(n){_(+n.target.value),l(0)}})]}),!r&&t&&(0,i.jsx)(a.Z,{variant:"body2",color:"text.secondary",children:"uh oh, this was not supposed to happen"})]})})}var C=r(6932);function S(){var n=[(0,i.jsx)(h,{},"health-card"),(0,i.jsx)(p,{},"subscription-card"),(0,i.jsx)(_,{},"subscription-usage-report-card")];return(0,i.jsx)(t.ZP,{container:!0,spacing:2,children:n.map((function(n){return(0,i.jsx)(t.ZP,{item:!0,xs:12,children:n},n.key)}))})}S.getLayout=function(n){return(0,i.jsx)(C.Z,{children:n})}}},function(n){n.O(0,[545,425,50,774,888,179],(function(){return e=6429,n(n.s=e);var e}));var e=n.O();_N_E=e}]);